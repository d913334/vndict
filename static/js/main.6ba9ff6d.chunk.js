(this.webpackJsonpvndict=this.webpackJsonpvndict||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=a(75),i=a(141),u=a(140),s=Object(o.a)(),m=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(i.a,{theme:s},t))},p=a(142),d=a(144),f=a(145),E=a(40),b=a(61),g=a.n(b),h=function(){return r.a.createElement(p.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(g.a,null)),r.a.createElement(E.a,{variant:"h6"},"Vietnamese - English open dictionary")))},v=a(15),k=a.n(v),O=a(28),w=a(19),j=a(59),C=a(162),y=a(147),x=a(107),S=a(148),L=a(149),_=a(64),R=a.n(_),T=a(156),N=a(146),U=function(e){var t=e.suggests,a=e.setKeyword,n=e.search,c=B({successtionBox:{paddingTop:"25px"}});return t&&t.length>0&&r.a.createElement(T.a,{className:c.suggestList},r.a.createElement(N.a,null),r.a.createElement(E.a,{variant:"h3",component:"h5",style:{marginTop:"25px"}},"T\u1eeb li\xean quan:"),r.a.createElement(y.a,{component:"nav","aria-label":"contacts"},t.map((function(e){return r.a.createElement(x.a,{key:e.word,button:!0,onClick:function(){a(e.word),n(e.word)}},r.a.createElement(S.a,null,r.a.createElement(R.a,null)),r.a.createElement(L.a,{primary:e.word,color:"primary"}))}))))},B=Object(j.a)((function(e){return{suggestList:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(5)}}})),D=a(151),A=a(77),I=a(158),M=a(154),V=a(68),W=a.n(V),P=a(69),q=a.n(P),J=a(70),F=a.n(J),H=a(153),K=a(163),$=a(71),X=a.n($),z=a(72),G=a.n(z),Q=a(73),Y=a.n(Q),Z=a(50),ee=a.n(Z);function te(e){var t=e.html,a=e.onLinkClick,c=e.onWordClick,l=Object(n.useRef)(null),o=Object(n.useRef)([]),i=Object(n.useCallback)((function(){var e="",t=document;window.getSelection?e=window.getSelection().toString():t.selection&&"Control"!==t.selection.type&&(e=t.selection.createRange().text),e&&c&&c(e)}),[c]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=Object(n.useState)(!1),r=Object(w.a)(a,2),c=r[0],l=r[1];Object(n.useEffect)((function(){var a;return c?a=setTimeout(e,t):clearTimeout(a),function(){clearTimeout(a)}}),[c]);var o=Object(n.useCallback)((function(){l(!0)}),[]),i=Object(n.useCallback)((function(){l(!1)}),[]);return{onMouseDown:o,onMouseUp:i,onMouseLeave:i,onTouchStart:o,onTouchEnd:i}}((function(){i()}),1e3);return Object(n.useEffect)((function(){return o.current.push(l.current),l.current.addEventListener("dblclick",i),Array.from(l.current.querySelectorAll("a")).forEach((function(e){e.addEventListener("click",a),o.current.push(e)})),function(){o.current.forEach((function(e){e.removeEventListener("click",a),e.removeEventListener("dblclick",i)})),o.current=[]}}),[t,a,c,i]),r.a.createElement(E.a,Object.assign({},u,{ref:l,variant:"body1",component:"article",dangerouslySetInnerHTML:{__html:t}}))}var ae=a(23),ne=a(150),re=a(161);function ce(e){return e?e=e[0].toUpperCase()+e.substr(1):null}function le(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(O.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:if(!(a=e.sent)||!a.ok){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var ie,ue=a(160),se=a(65),me=a.n(se),pe={RESOURCE_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/vndict"}).REACT_APP_RESOURCE_URL||"https://samuraitruong.github.io/open-vn-en-dict",DATA_SOURCE_ID:["data","html"]},de=pe,fe=Object(j.a)((function(e){return Object(C.a)({speakButton:{marginLeft:e.spacing(3)}})})),Ee=function(e){var t=e.noStyle,a=e.word,c=e.accents,l=fe({}),o=Object(n.useState)({}),i=Object(w.a)(o,2),u=i[0],s=i[1],m=Object(n.useCallback)(Object(O.a)(k.a.mark((function e(){var t,n,r,l,o,i,u,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!a){e.next=31;break}n=!0,r=!1,l=void 0,e.prev=5,o=c[Symbol.iterator]();case 7:if(n=(i=o.next()).done){e.next=17;break}return u=i.value,m="".concat(pe.RESOURCE_URL,"/voice/").concat(a.toLocaleLowerCase(),"_").concat(u,".mp3"),e.next=12,le(m);case 12:e.sent&&(t[u]=m);case 14:n=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),r=!0,l=e.t0;case 23:e.prev=23,e.prev=24,n||null==o.return||o.return();case 26:if(e.prev=26,!r){e.next=29;break}throw l;case 29:return e.finish(26);case 30:return e.finish(23);case 31:s(t);case 32:case"end":return e.stop()}}),e,null,[[5,19,23,31],[24,,26,30]])}))),[a]);Object(n.useEffect)((function(){m()}),[m]);return r.a.createElement(T.a,{className:"float-right"},c.map((function(e){return r.a.createElement(ue.a,{key:e,className:l.speakButton,clickable:null!=u[e],disabled:!u[e],color:t||"us"!==e?"primary":"secondary",onClick:function(){return function(e){var t="".concat(pe.RESOURCE_URL,"/voice/").concat(a.toLocaleLowerCase(),"_").concat(e,".mp3");new Audio(t).play()}(e)},icon:r.a.createElement(me.a,null),label:e.toUpperCase()})})))},be=Ee,ge=Object(j.a)((function(e){return Object(C.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},innerBox:{padding:e.spacing(2)}})})),he=function(e){var t=e.word,a=e.onClose,n=ge({}),c=r.a.forwardRef((function(e,t){return r.a.createElement(ne.a,Object.assign({direction:"up",ref:t},e))}));return t?r.a.createElement(re.a,{fullScreen:window.innerWidth<667,open:null!=t,onClose:function(){},TransitionComponent:c},r.a.createElement(p.a,{className:n.appBar},r.a.createElement(d.a,null,r.a.createElement(f.a,{edge:"start",color:"inherit",onClick:function(){return a()},"aria-label":"close"},r.a.createElement(ee.a,null)),r.a.createElement(E.a,{variant:"h6",className:n.title},ce(t.word)," ",t.pronounce&&r.a.createElement("span",null," - ",t.pronounce)),r.a.createElement(be,{word:t.word,accents:["us","uk"],noStyle:!0}))),r.a.createElement(T.a,{className:n.innerBox},r.a.createElement(te,{html:t.content,onLinkClick:function(e){e.preventDefault()}}))):null};function ve(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(O.a)(k.a.mark((function e(t,a){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||"html",n={resultType:ie.Success},e.prev=2,t=t.toLocaleLowerCase().trim(),e.next=6,fetch("".concat(pe.RESOURCE_URL,"/").concat(a,"/").concat(t,".json"));case 6:return r=e.sent,e.next=9,r.text();case 9:c=(c=e.sent).replace(/find\?type=(\d+)&amp;query=([^"]*)/gi,"$2"),n.data=JSON.parse(c),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),n.resultType=ie.Error,n.errorMessage="failed to fetch word";case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}!function(e){e.Success="success",e.Error="error"}(ie||(ie={}));var Oe=a(159),we=a(152),je=Object(j.a)((function(e){return Object(C.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:1,marginTop:e.spacing(1)},container:{margin:e.spacing(1,0),paddingTop:e.spacing(2)},speakButton:{marginLeft:e.spacing(3)},snackbar:{backgroundColor:e.palette.error.dark}})})),Ce=function(){var e=localStorage.getItem("SOURCE_ID")||"html",t=Object(ae.f)(),a=je({}),c=Object(n.useState)(e),l=Object(w.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)(),s=Object(w.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)(null),b=Object(w.a)(d,2),g=b[0],h=b[1],v=Object(n.useState)(""),j=Object(w.a)(v,2),C=j[0],y=j[1],x=Object(n.useState)("en_vn"),S=Object(w.a)(x,2),L=S[0],_=S[1],R=Object(n.useState)(null),B=Object(w.a)(R,2),V=B[0],P=B[1],J=Object(ae.g)().word,$=Object(n.useCallback)(function(){var e=Object(O.a)(k.a.mark((function e(a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ve(a,o);case 4:n=e.sent,(r=n.data)?(_("en_vn"),p(r),P(null),t.push(a),window.scrollTo({top:0})):(p({}),P("Xin l\u1ed7i, t\u1eeb b\u1ea1n t\xecm ki\u1ebfm kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c ch\u01b0a \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]),z=function(){var e=Object(O.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t,o);case 2:(a=e.sent).data&&a.data.en_vn&&a.data.en_vn.data&&h(a.data.en_vn.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){y(J),$(J)}),[J,$]);var Q=m&&m[L],Z=r.a.useState(null),ne=Object(w.a)(Z,2),re=ne[0],le=ne[1],oe=function(e){de.DATA_SOURCE_ID.some((function(t){return t===e}))&&(localStorage.setItem("SOURCE_ID",e),i(e)),le(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{container:!0,className:a.container},r.a.createElement(D.a,{item:!0,sm:6,xs:12},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),$(C),!1}},r.a.createElement(A.a,{className:a.root},r.a.createElement(f.a,{className:a.iconButton,"aria-label":"menu",onClick:function(e){le(e.currentTarget)}},r.a.createElement(W.a,null)),r.a.createElement(Oe.a,{anchorEl:re,keepMounted:!0,open:Boolean(re),onClose:oe},r.a.createElement(we.a,{disabled:"html"===o,onClick:function(){return oe("html")}},"T\u1eeb \u0111i\u1ec3n 1"),r.a.createElement(we.a,{disabled:"data"===o,onClick:function(){return oe("data")}},"T\u1eeb \u0111i\u1ec3n 2")),r.a.createElement(I.a,{value:C,onChange:function(e){return y(e.target.value)},className:a.input,placeholder:"English -> Vietnamese",inputProps:{"aria-label":"English -> Vietnamese"}}),r.a.createElement(f.a,{type:"submit",className:a.iconButton,"aria-label":"search"},r.a.createElement(q.a,null)),r.a.createElement(N.a,{className:a.divider,orientation:"vertical"}),r.a.createElement(f.a,{color:"primary",className:a.iconButton,"aria-label":"directions"},r.a.createElement(F.a,null))))),r.a.createElement(D.a,{item:!0,sm:6,xs:12},r.a.createElement(K.a,{value:L,exclusive:!0,onChange:function(e,t){_(t)},style:{float:"right"},"aria-label":"select dictionary options"},r.a.createElement(H.a,{value:"en_vn","aria-label":"left aligned"},r.a.createElement(X.a,null)," Eng -> Vi \xa0"),r.a.createElement(H.a,{value:"en_en","aria-label":"centered"},r.a.createElement(G.a,null)," Eng -> Eng \xa0"),r.a.createElement(H.a,{value:"synonyms","aria-label":"right aligned"},r.a.createElement(Y.a,null)," \u0110\u1ed3ng Ngh\u0129a")))),Q&&r.a.createElement(D.a,null,r.a.createElement(D.a,{xs:12,item:!0},r.a.createElement(E.a,{variant:"h3",component:"span"},Q.data?ce(Q.data.word):""),r.a.createElement(E.a,{variant:"h4",component:"span"},r.a.createElement(T.a,{color:"text.secondary",component:"span"},Q.data&&Q.data.pronounce?"  (".concat(Q.data.pronounce,")"):"")),r.a.createElement(Ee,{word:Q.data.word,accents:["uk","us"],noStyle:!1}),r.a.createElement(N.a,{className:a.divider}),r.a.createElement(te,{html:Q.data&&Q.data.content,onWordClick:z,onLinkClick:function(e){e.preventDefault();var t=e.currentTarget.href.split("/"),a=t[t.length-1];y(a),$(a)}}),g&&r.a.createElement(he,{word:g,onClose:function(){return h(null)}}),Q.suggests&&r.a.createElement(D.a,null,r.a.createElement(U,{suggests:Q.suggests,setKeyword:y,search:$})))),V&&r.a.createElement(M.a,{className:a.snackbar,message:V,action:r.a.createElement(f.a,{key:"close","aria-label":"close",color:"inherit",onClick:function(){return P(null)}},r.a.createElement(ee.a,null))}))},ye=a(155),xe=a(74),Se=function(){return r.a.createElement(xe.a,{basename:"/vndict"},r.a.createElement(m,null,r.a.createElement(ye.a,{fixed:!0,className:"container-wrapper"},r.a.createElement(h,null),r.a.createElement(ye.a,null,r.a.createElement(ae.c,null,r.a.createElement(ae.a,{path:"/:word"},r.a.createElement(Ce,null)),r.a.createElement(ae.a,{path:""},r.a.createElement(Ce,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(104);l.a.render(r.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a(105)}},[[87,1,2]]]);
//# sourceMappingURL=main.6ba9ff6d.chunk.js.map